代码来自网络，我稍作修改，没学过PHP，所以写得很烂
